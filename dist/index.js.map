{"version":3,"sources":["../src/index.ts"],"sourcesContent":["type Callback<P = any, R = any> = (...args: P[]) => R;\ntype Readiable = { ready: boolean };\ntype CooldownFunction<C extends Callback> = Readiable & ((...args: Parameters<C>) => ReturnType<C> | void);\ntype CooldownAsyncFunction<C extends Callback> = Readiable & ((...args: Parameters<C>) => Promise<ReturnType<C> | void>);\n\nexport function cooldown<C extends Callback>(callback: C, ms: number = 0): CooldownFunction<C> {\n    let ready = true;\n    function wrapped(this: unknown, ...args: Parameters<C>): ReturnType<C> | void {\n        if (ready) {\n            ready = false;\n            setTimeout(() => ready = true, ms);\n            return callback.apply(this, args);\n        }\n    }\n    Object.defineProperty(wrapped, \"ready\", {\n        get: () => ready,\n        enumerable: true\n    });\n    return <CooldownFunction<C>>wrapped;\n}\n\n// Always async\nexport function cooldownAsync<C extends Callback>(callback: C, ms: number = 0): CooldownAsyncFunction<C> {\n    let ready = true;\n    async function wrapped(this: unknown, ...args: Parameters<C>): Promise<ReturnType<C> | void> {\n        if (ready) {\n            ready = false;\n            setTimeout(() => ready = true, ms);\n            return await callback.apply(this, args);\n        }\n    }\n    Object.defineProperty(wrapped, \"ready\", {\n        get: () => ready,\n        enumerable: true\n    });\n    return <CooldownAsyncFunction<C>>wrapped;\n}\n"],"mappings":"yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,cAAAE,EAAA,kBAAAC,IAAA,eAAAC,EAAAJ,GAKO,SAASE,EAA6BG,EAAaC,EAAa,EAAwB,CAC3F,IAAIC,EAAQ,GACZ,SAASC,KAA0BC,EAA2C,CAC1E,GAAIF,EACA,OAAAA,EAAQ,GACR,WAAW,IAAMA,EAAQ,GAAMD,CAAE,EAC1BD,EAAS,MAAM,KAAMI,CAAI,CAExC,CACA,cAAO,eAAeD,EAAS,QAAS,CACpC,IAAK,IAAMD,EACX,WAAY,EAChB,CAAC,EAC2BC,CAChC,CAGO,SAASL,EAAkCE,EAAaC,EAAa,EAA6B,CACrG,IAAIC,EAAQ,GACZ,eAAeC,KAA0BC,EAAoD,CACzF,GAAIF,EACA,OAAAA,EAAQ,GACR,WAAW,IAAMA,EAAQ,GAAMD,CAAE,EAC1B,MAAMD,EAAS,MAAM,KAAMI,CAAI,CAE9C,CACA,cAAO,eAAeD,EAAS,QAAS,CACpC,IAAK,IAAMD,EACX,WAAY,EAChB,CAAC,EACgCC,CACrC","names":["src_exports","__export","cooldown","cooldownAsync","__toCommonJS","callback","ms","ready","wrapped","args"]}